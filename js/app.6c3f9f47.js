(function(){"use strict";var e={4364:function(e,s,n){var t=n(5130),r=n(6768),o=n(4232);const i={id:"app"},a={key:0},l={key:1},u={class:"header"},c={key:0},d={class:"chat-container"},h={class:"chat-messages"},p={class:"chat-input"};function g(e,s,n,g,m,f){const L=(0,r.g2)("UserLogin"),k=(0,r.g2)("UserRegister");return(0,r.uX)(),(0,r.CE)("div",i,[m.isLoggedIn?(0,r.Q3)("",!0):((0,r.uX)(),(0,r.CE)("div",a,["login"===m.currentView?((0,r.uX)(),(0,r.Wv)(L,{key:0,onSwitchToRegister:s[0]||(s[0]=e=>m.currentView="register"),onLoginSuccess:f.handleLoginSuccess},null,8,["onLoginSuccess"])):(0,r.Q3)("",!0),"register"===m.currentView?((0,r.uX)(),(0,r.Wv)(k,{key:1,onSwitchToLogin:s[1]||(s[1]=e=>m.currentView="login"),onRegisterSuccess:f.handleRegisterSuccess},null,8,["onRegisterSuccess"])):(0,r.Q3)("",!0)])),m.isLoggedIn?((0,r.uX)(),(0,r.CE)("div",l,[(0,r.Lk)("div",u,[s[5]||(s[5]=(0,r.Lk)("h1",null,"디지털 노마드 AI 챗봇",-1)),(0,r.Lk)("div",null,[m.currentUser?((0,r.uX)(),(0,r.CE)("span",c,(0,o.v_)(m.currentUser.name)+"님 반갑습니다!",1)):(0,r.Q3)("",!0),(0,r.Lk)("button",{onClick:s[2]||(s[2]=(...e)=>f.logout&&f.logout(...e)),class:"logout-btn"},"로그아웃")])]),(0,r.Lk)("div",d,[(0,r.Lk)("div",h,[((0,r.uX)(!0),(0,r.CE)(r.FK,null,(0,r.pI)(m.messages,e=>((0,r.uX)(),(0,r.CE)("p",{key:e.text,class:(0,o.C4)("AI"===e.sender?"ai-message":"user-message")},(0,o.v_)(e.sender)+": "+(0,o.v_)(e.text),3))),128))]),(0,r.Lk)("div",p,[(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":s[3]||(s[3]=e=>m.userMessage=e),placeholder:"메시지를 입력하세요..."},null,512),[[t.Jo,m.userMessage]]),(0,r.Lk)("button",{onClick:s[4]||(s[4]=(...e)=>f.sendMessage&&f.sendMessage(...e))},"전송")])])])):(0,r.Q3)("",!0)])}n(4114),n(8111),n(1701);const m={class:"login-container"},f={class:"form-group"},L={class:"form-group"};function k(e,s,n,o,i,a){return(0,r.uX)(),(0,r.CE)("div",m,[s[8]||(s[8]=(0,r.Lk)("h1",null,"디지털 노마드 AI - 로그인",-1)),(0,r.Lk)("form",{onSubmit:s[2]||(s[2]=(0,t.D$)((...e)=>a.handleLogin&&a.handleLogin(...e),["prevent"]))},[(0,r.Lk)("div",f,[s[4]||(s[4]=(0,r.Lk)("label",null,"이메일:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email","onUpdate:modelValue":s[0]||(s[0]=e=>i.email=e),placeholder:"이메일을 입력하세요",required:""},null,512),[[t.Jo,i.email]])]),(0,r.Lk)("div",L,[s[5]||(s[5]=(0,r.Lk)("label",null,"비밀번호:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":s[1]||(s[1]=e=>i.password=e),placeholder:"비밀번호를 입력하세요",required:""},null,512),[[t.Jo,i.password]])]),s[6]||(s[6]=(0,r.Lk)("button",{type:"submit"},"로그인",-1))],32),(0,r.Lk)("p",null,[s[7]||(s[7]=(0,r.eW)(" 계정이 없으신가요? ")),(0,r.Lk)("a",{href:"#",onClick:s[3]||(s[3]=s=>e.$emit("switch-to-register"))},"회원가입")])])}var v={name:"UserLogin",data(){return{email:"",password:""}},methods:{handleLogin(){fetch(`${{NODE_ENV:"production",BASE_URL:"/nomadai/"}.VUE_APP_API_URL}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:this.email,password:this.password})}).then(e=>e.json()).then(e=>{e.success?this.$emit("login-success",e.user):alert(e.message)}).catch(e=>{console.error("로그인 오류:",e),alert("로그인 중 오류가 발생했습니다.")})}}},b=n(1241);const _=(0,b.A)(v,[["render",k],["__scopeId","data-v-7984c6b4"]]);var y=_;const w={class:"register-container"},U={class:"form-group"},E={class:"form-group"},C={class:"form-group"},S={class:"form-group"};function A(e,s,n,o,i,a){return(0,r.uX)(),(0,r.CE)("div",w,[s[12]||(s[12]=(0,r.Lk)("h1",null,"디지털 노마드 AI - 회원가입",-1)),(0,r.Lk)("form",{onSubmit:s[4]||(s[4]=(0,t.D$)((...e)=>a.handleRegister&&a.handleRegister(...e),["prevent"]))},[(0,r.Lk)("div",U,[s[6]||(s[6]=(0,r.Lk)("label",null,"이름:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"text","onUpdate:modelValue":s[0]||(s[0]=e=>i.name=e),placeholder:"이름을 입력하세요",required:""},null,512),[[t.Jo,i.name]])]),(0,r.Lk)("div",E,[s[7]||(s[7]=(0,r.Lk)("label",null,"이메일:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"email","onUpdate:modelValue":s[1]||(s[1]=e=>i.email=e),placeholder:"이메일을 입력하세요",required:""},null,512),[[t.Jo,i.email]])]),(0,r.Lk)("div",C,[s[8]||(s[8]=(0,r.Lk)("label",null,"비밀번호:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":s[2]||(s[2]=e=>i.password=e),placeholder:"비밀번호를 입력하세요",required:""},null,512),[[t.Jo,i.password]])]),(0,r.Lk)("div",S,[s[9]||(s[9]=(0,r.Lk)("label",null,"비밀번호 확인:",-1)),(0,r.bo)((0,r.Lk)("input",{type:"password","onUpdate:modelValue":s[3]||(s[3]=e=>i.confirmPassword=e),placeholder:"비밀번호를 다시 입력하세요",required:""},null,512),[[t.Jo,i.confirmPassword]])]),s[10]||(s[10]=(0,r.Lk)("button",{type:"submit"},"회원가입",-1))],32),(0,r.Lk)("p",null,[s[11]||(s[11]=(0,r.eW)(" 이미 계정이 있으신가요? ")),(0,r.Lk)("a",{href:"#",onClick:s[5]||(s[5]=s=>e.$emit("switch-to-login"))},"로그인")])])}var O={name:"UserRegister",data(){return{name:"",email:"",password:"",confirmPassword:""}},methods:{handleRegister(){this.password===this.confirmPassword?fetch(`${{NODE_ENV:"production",BASE_URL:"/nomadai/"}.VUE_APP_API_URL}/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({name:this.name,email:this.email,password:this.password})}).then(e=>e.json()).then(e=>{e.success?(alert("회원가입이 완료되었습니다!"),this.$emit("switch-to-login")):alert(e.message)}).catch(e=>{console.error("회원가입 오류:",e),alert("회원가입 중 오류가 발생했습니다.")}):alert("비밀번호가 일치하지 않습니다.")}}};const P=(0,b.A)(O,[["render",A],["__scopeId","data-v-42990922"]]);var V=P,I={name:"App",components:{UserLogin:y,UserRegister:V},data(){return{isLoggedIn:!1,currentView:"login",currentUser:null,userMessage:"",messages:[]}},mounted(){this.isLoggedIn&&this.loadChatHistory()},methods:{handleLoginSuccess(e){this.isLoggedIn=!0,this.currentUser=e,this.loadChatHistory()},handleRegisterSuccess(){this.isLoggedIn=!0,this.loadChatHistory()},logout(){this.isLoggedIn=!1,this.currentView="login",this.currentUser=null,this.messages=[]},sendMessage(){if(""!==this.userMessage.trim()){const e=this.userMessage;this.messages.push({sender:this.currentUser.name,text:e}),this.userMessage="",fetch(`${{NODE_ENV:"production",BASE_URL:"/nomadai/"}.VUE_APP_API_URL}/chat`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:e,user_id:this.currentUser.id,user_name:this.currentUser.name})}).then(e=>e.json()).then(e=>{this.messages.push({sender:"AI",text:e.response})})}},loadChatHistory(){fetch(`${{NODE_ENV:"production",BASE_URL:"/nomadai/"}.VUE_APP_API_URL}/messages/${this.currentUser.id}`).then(e=>e.json()).then(e=>{this.messages=e.messages.map(e=>({sender:e.sender,text:e.content}))}).catch(e=>{console.error("채팅 기록을 불러오는데 실패했습니다:",e)})}}};const R=(0,b.A)(I,[["render",g],["__scopeId","data-v-8f1ea890"]]);var j=R;(0,t.Ef)(j).mount("#app")}},s={};function n(t){var r=s[t];if(void 0!==r)return r.exports;var o=s[t]={exports:{}};return e[t].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(s,t,r,o){if(!t){var i=1/0;for(c=0;c<e.length;c++){t=e[c][0],r=e[c][1],o=e[c][2];for(var a=!0,l=0;l<t.length;l++)(!1&o||i>=o)&&Object.keys(n.O).every(function(e){return n.O[e](t[l])})?t.splice(l--,1):(a=!1,o<i&&(i=o));if(a){e.splice(c--,1);var u=r();void 0!==u&&(s=u)}}return s}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[t,r,o]}}(),function(){n.n=function(e){var s=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(s,{a:s}),s}}(),function(){n.d=function(e,s){for(var t in s)n.o(s,t)&&!n.o(e,t)&&Object.defineProperty(e,t,{enumerable:!0,get:s[t]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,s){return Object.prototype.hasOwnProperty.call(e,s)}}(),function(){var e={524:0};n.O.j=function(s){return 0===e[s]};var s=function(s,t){var r,o,i=t[0],a=t[1],l=t[2],u=0;if(i.some(function(s){return 0!==e[s]})){for(r in a)n.o(a,r)&&(n.m[r]=a[r]);if(l)var c=l(n)}for(s&&s(t);u<i.length;u++)o=i[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},t=self["webpackChunknomadai_frontend_for_study"]=self["webpackChunknomadai_frontend_for_study"]||[];t.forEach(s.bind(null,0)),t.push=s.bind(null,t.push.bind(t))}();var t=n.O(void 0,[504],function(){return n(4364)});t=n.O(t)})();
//# sourceMappingURL=app.6c3f9f47.js.map